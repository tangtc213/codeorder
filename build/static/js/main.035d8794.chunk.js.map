{"version":3,"sources":["api.js","components/StoreLocation.js","components/Swiper2.js","LandingPage.js","history.js","components/Header.js","components/Slideshow.js","FoodCart.js","OrderManager.js","FoodManager.js","DeskManager.js","AddFood.js","components/ManagerHeader.js","create-fetcher.js","RestaurantManager.js","Login.js","OrderSuccess.js","Forget.js","OrderFinish.js","Register.js","Changep.js","App.js","index.js"],"names":["api","axios","create","baseURL","withCredentials","StoreLocation","deskInfo","useParams","rid","did","useState","setDeskInfo","useEffect","get","then","res","data","catch","err","console","log","useDeskInfo","className","name","Slideshow","autoplay","style","height","src","alt","LandingPage","customs","setCustoms","history","useHistory","zIndex","Swiper2","marginTop","marginBottom","onClick","push","createBrowserHistory","Header","goBack","width","MenuItem","food","onUpdate","count","img","desc","price","CartItem","item","amount","setCount","prototype","PropTypes","object","isRequired","func","defaultProps","CartStatus","props","expend","setExpend","totalPrice","calcTotalPrice","foods","size","length","fontSize","marginLeft","color","onPlaceOrder","title","clearFooCart","placement","closable","onClose","visible","map","idx","id","cartAry","reduce","total","FoodCart","updatedcount","produce","state","foodCountMap","countMap","setState","cart","foodChange","updated","findIndex","it","splice","index","placeOrder","sum","params","match","deskName","customCount","details","handleCategoryActive","activeCategoryIdx","$","animate","scrollTop","categoryList","offsetTop","foodMenu","foodMap","foodCategoryList","this","val","newMap","_","entries","groupBy","newCategoryList","keys","currentList","document","getElementsByClassName","category","element","mapFoodToCount","Component","orderItemStyle","padding","OrderItem","order","onDetele","orderInfo","setOrderInfo","xs","span","sm","md","lg","fontWeight","float","status","put","delete","OrderManager","orders","socket","io","on","unshift","close","justify","imgStyle","display","marginRight","border","FoodItem","onDelete","foodInfo","setFoodInfo","isModify","setIsModify","foodProps","setFoodProps","change","e","target","value","a","imgChange","files","type","onChange","defaultValue","getContent","fd","FormData","key","append","FoodManger","setFoods","filter","backgroundColor","borderRadius","margin","to","DeskManger","addDeskRef","useRef","deskList","setDeskList","ref","post","current","capacity","concat","header","bordered","dataSource","renderItem","Item","slice","deleteDesk","AddFood","onSubmit","preventDefault","addonAfter","userInfoFetcher","f","cache","read","args","join","reason","createFetcher","ResaurantInfo","info","ManagerHeader","fallback","mode","defaultSelectedKeys","ResaurantManager","path","exact","FoodManager","DeskManager","Login","isLoading","setIsLoading","setName","password","setPassword","captcha","setCaptchaCode","tip","spinning","direction","placeholder","prefix","TeamOutlined","LockOutlined","VerifiedOutlined","message","error","setTimeout","response","msg","block","overflow","timeId","OrderSuccess","takeout","setTakeout","location","orderPhone","setOrderPhone","OrderFinish","orderNumber","Register","rePassword","setRePassword","email","setEmail","setTitle","trim","alert","dir","forgetDiv","textAlign","Forget","countTime","setCountTime","hassend","setHassend","clearInterval","emailRef","forget","setInterval","Changep","newpRef","reNewpRef","App","component","window","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.035d8794.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst api =  axios.create({\r\n    baseURL: '/api',\r\n    withCredentials: true,\r\n})\r\n\r\nexport default api\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../static/style/storelocation.scss'\r\nimport api from '../api'\r\nimport { useParams } from 'react-router';\r\nimport '../static/style/font.css'\r\n\r\nfunction useDeskInfo() {\r\n    const {rid, did} = useParams()\r\n    const [deskInfo, setDeskInfo] = useState(null)\r\n    useEffect(() => {\r\n        api.get(`/deskinfo/r/${rid}/d/${did}`).then(res => {\r\n            setDeskInfo(res.data)\r\n        }).catch(err => {\r\n            console.log('get failed')\r\n        })\r\n    },[rid, did])\r\n    return deskInfo\r\n}\r\n\r\nconst StoreLocation = () => {\r\n    // 自定义hook获取desk信息\r\n    const deskInfo = useDeskInfo()\r\n    return (\r\n        <div className=\"storelocation\">\r\n            <div className=\"store-name\">杭州庆春乐购店{' >'}</div>\r\n            <div className=\"store-location\"><i className=\"iconfont icondizhi\"></i>距离您314m</div>\r\n            <div className=\"store-deskInfo\">桌号：{deskInfo && deskInfo.name}</div>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default StoreLocation;\r\n","import React from 'react';\r\nimport 'antd/dist/antd.css'\r\nimport { Carousel } from 'antd';\r\nimport '../static/style/swiper2.scss'\r\n\r\nconst Slideshow = () => {\r\n    return (\r\n        <div className=\"swiper\" >\r\n            <Carousel  autoplay>\r\n                <div>\r\n                <h3><img style={{height: '73.3vw'}} src={'/upload/swiper3.jpg'} alt=\"swiper\" /></h3>\r\n                </div>\r\n                <div>\r\n                <h3><img style={{height: '73.3vw'}} src={'/upload/swiper4.jpg'} alt=\"swiper\" /></h3>\r\n                </div>\r\n                <div>\r\n                <h3><img style={{height: '73.3vw'}} src={'/upload/swiper5.jpg'} alt=\"swiper\" /></h3>\r\n                </div>\r\n            </Carousel>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Slideshow;\r\n","import React, { useState } from 'react';\r\nimport { useParams, useHistory } from 'react-router';\r\n\r\n\r\nimport StoreLocation from './components/StoreLocation'\r\nimport Swiper2 from './components/Swiper2'\r\nimport './static/style/landingPage.scss'\r\n\r\nconst LandingPage = () => {\r\n    const [customs, setCustoms] = useState(1)\r\n    const {rid, did} = useParams()\r\n    const history = useHistory()\r\n    function startOrder () {\r\n        history.push(`/r/${rid}/d/${did}/c/${customs}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"landingPage\">\r\n            <div style={{zIndex:'-1'}} className=\"landingPage-swiper\">\r\n                <Swiper2 />\r\n            </div>\r\n            <div style={{marginTop: '-4rem'}}>\r\n                <StoreLocation />\r\n            </div>\r\n            <div className=\"landingPage-content\">\r\n                <div className=\"user-select box-shadow\">\r\n                    <h2 style={{marginBottom:'1px'}}>请选择用餐人数</h2>\r\n                    <ul className=\"custom-count\">\r\n                        <li className={customs === 1 ? 'active' : null } onClick={() => setCustoms(1)}>1</li>\r\n                        <li className={customs === 2 ? 'active' : null }  onClick={() => setCustoms(2)}>2</li>\r\n                        <li className={customs === 3 ? 'active' : null }  onClick={() => setCustoms(3)}>3</li>\r\n                        <li className={customs === 4 ? 'active' : null }  onClick={() => setCustoms(4)}>4</li>\r\n                    </ul>\r\n                    <br />\r\n                    <span onClick={startOrder} className=\"start-order-btn\">开始点餐</span>\r\n                </div>\r\n                <div className=\"new-info\">\r\n                    御膳房新情报\r\n                </div>\r\n                <div className=\"new-info-list\">\r\n                    <img src=\"/static/newInfo.png\" alt=\"newInfo\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default LandingPage;\r\n","import { createBrowserHistory } from 'history'\r\nexport default createBrowserHistory()\r\n","import React from 'react';\r\nimport '../static/style/header.scss'\r\nimport history from '../history'\r\nimport '../static/style/font.css'\r\n\r\nconst Header = () => {\r\n    function goBack() {\r\n        history.goBack()\r\n    }\r\n\r\n    return (\r\n        <div className=\"header\">\r\n\r\n            <div onClick={goBack} className=\"header-text\"><i className=\"iconfont iconhoutui\"></i></div>\r\n            <span>老娘舅点餐中心</span>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport 'antd/dist/antd.css'\r\nimport { Carousel } from 'antd';\r\nimport '../static/style/slideshow.scss'\r\n\r\nconst Slideshow = () => {\r\n    return (\r\n        <div className=\"carousel\" >\r\n            <Carousel\r\n                autoplay\r\n            >\r\n                <div>\r\n                <h3><img style={{width: '16rem' , height: '9rem'}} src={'/upload/swiper1.jpg'} alt=\"swiper1\" /></h3>\r\n                </div>\r\n                <div>\r\n                <h3><img style={{width: '16rem' , height: '9rem'}} src={'/upload/swiper2.jpg'} alt=\"swiper2\" /></h3>\r\n                </div>\r\n            </Carousel>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Slideshow;\r\n","import React, {useState, Component} from 'react';\r\nimport api from './api';\r\nimport PropTypes from 'prop-types'\r\nimport { produce } from 'immer'\r\nimport _ from 'lodash'\r\nimport $ from 'jquery'\r\nimport 'antd/dist/antd.css'\r\nimport { Drawer } from 'antd'\r\nimport Header from './components/Header'\r\nimport StoreLocation  from './components/StoreLocation'\r\nimport Slideshow from './components/Slideshow'\r\nimport {\r\n    Badge\r\n} from 'antd'\r\nimport './static/style/foodCart.scss'\r\nimport './static/style/font.css'\r\n\r\n\r\n// 函数传递两个参数一个是食物的信息，一个是数目发生改变时的方法\r\nfunction MenuItem({food, onUpdate, count}) {\r\n    function dec() {\r\n        // 当数目为0时无法继续减少\r\n        if(count === 0) {\r\n            return\r\n        }\r\n        onUpdate(food, count - 1)\r\n    }\r\n    function inc() {\r\n        // 数目增加\r\n        onUpdate(food, count + 1)\r\n    }\r\n\r\n    return (\r\n        <div className=\"foodMenu\">\r\n            <img className=\"foodMenu-img\" src={'/upload/' + food.img} alt={food.name} />\r\n            <div className='foodMenu-name'>{food.name}</div>\r\n            <div className=\"foodMenu-desc\">{food.desc}</div>\r\n            <div className=\"foodMenu-priceandadd\">\r\n                <div className=\"foodMenu-price\">￥{food.price}</div>\r\n                <div className=\"foodMenu-btn\">\r\n                    { count > 0  &&\r\n                    <span>\r\n                        <i className=\"foodMenu-btn-dec\" onClick={dec}>-</i>\r\n                        <span>{count}</span>\r\n                    </span>\r\n                    }\r\n                    <i onClick={inc}>+</i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nMenuItem.prototype = {\r\n    food: PropTypes.object.isRequired,\r\n    onUpdate: PropTypes.func,\r\n}\r\nMenuItem.defaultProps = {\r\n    onUpdate: () => {},\r\n}\r\n\r\n// 购物车的每一项条目\r\nfunction CartItem({item, onUpdate}) {\r\n    // 申明食物的详细信息\r\n    var food = item.food\r\n    // 每一种食物的数量\r\n    var [count, setCount ] = useState(item.amount)\r\n    function dec() {\r\n        // 当数目为0时无法继续减少\r\n        if(count === 0) {\r\n            return\r\n        }\r\n        setCount(count - 1)\r\n        onUpdate(food, count - 1)\r\n    }\r\n    function inc() {\r\n        // 数目增加\r\n        setCount(count + 1)\r\n        onUpdate(food, count + 1)\r\n    }\r\n\r\n    return (\r\n        <div className=\"cartMenu\">\r\n            <div className='cartMenu-name'>{food.name}</div>\r\n            <div className=\"cartMenu-price\"><span>单价￥</span>{food.price}</div>\r\n                <div className=\"cartMenu-btn\">\r\n                    { count > 0  &&\r\n                    <span>\r\n                        <i className=\"cartMenu-btn-dec\" onClick={dec}>-</i>\r\n                        <span>{count}</span>\r\n                    </span>\r\n                    }\r\n                    <i onClick={inc}>+</i>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nconst CartStatus = (props) => {\r\n    // 购物车的状态（是否有扩展）\r\n    var [expend, setExpend] = useState(false)\r\n    // 设置总价\r\n    var totalPrice = calcTotalPrice(props.foods)\r\n    const drawerClose = () => {\r\n        setExpend(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"cartStatus\" >\r\n            <div className=\"cartStatus-left\">\r\n                <span className=\"cartStatus-symbol\" onClick={() => {setExpend(expend => !expend)}}>\r\n                    <Badge\r\n                        size=\"small\"\r\n                        count={props.foods.length}\r\n                        >\r\n                            <i style={{fontSize:\"2rem\",marginLeft:'.5rem', color: \"#fff\"}} className=\"iconfont icongouwudai7\"></i>\r\n                        </Badge>\r\n                </span>\r\n                <strong className=\"cartStatus-price\"><span>￥</span>{totalPrice}</strong>\r\n            </div>\r\n            <div className=\"cartStatus-placeOrder\" onClick={() => props.onPlaceOrder()}>去结算</div>\r\n            <Drawer\r\n                className=\"cart-drawer\"\r\n                title={<div className=\"cart-drawer-title\"><div>已购商品</div><div onClick={props.clearFooCart}><i className=\"iconfont iconicon-z-lajitong\"></i>清空购物车</div></div>}\r\n                placement=\"bottom\"\r\n                closable={false}\r\n                onClose={drawerClose}\r\n                visible={expend}\r\n            >\r\n                <ul className=\"cart-drawer\">\r\n                    {\r\n                        props.foods.map((item, idx) => {\r\n                            return <CartItem key={item.food.id} item={item} onUpdate={props.onUpdate} />\r\n                        })\r\n                    }\r\n                </ul>\r\n            </Drawer>\r\n        </div>\r\n    )\r\n}\r\n\r\n// 计算总价\r\nfunction calcTotalPrice(cartAry) {\r\n    return cartAry.reduce((total, item) => {\r\n        return total + item.amount * item.food.price\r\n    }, 0)\r\n}\r\n\r\nexport default class FoodCart extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            cart:[], //购物车数目\r\n            foodMenu: [], // 食物列表\r\n            deskInfo: {}, // 桌面信息\r\n            foodMap: [], // 食物分类信息\r\n            foodCategoryList: [], //食物分类列表\r\n            foodCountMap : [], //已订食物与数量\r\n            activeCategoryIdx: 0, // 选中的激活类名\r\n            categoryList: [], // 选择滚动元素列表\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        // 从路径中读取参数\r\n        var params = this.props.match.params\r\n        // 读取桌子的信息\r\n        api.get('/deskinfo?did=' + params.did).then(val => {\r\n            this.setState({\r\n                deskInfo: val.data,\r\n            })\r\n        })\r\n        // 读取某餐厅的菜单\r\n        api.get('/menu/restaurant/1').then(res => {\r\n            this.setState({\r\n                foodMenu: res.data,\r\n            })\r\n            let foodCountMap = []\r\n            for(let food of res.data) {\r\n                foodCountMap.push({\r\n                    food: food,\r\n                    count: 0\r\n                })\r\n            }\r\n            let newMap = _.entries(_.groupBy(res.data, 'category'))\r\n            let newCategoryList = _.keys(_.groupBy(res.data, 'category'))\r\n            this.setState({\r\n                foodMap : newMap,\r\n                foodCategoryList : newCategoryList,\r\n                foodCountMap: foodCountMap,\r\n            })\r\n        })\r\n\r\n        let currentList = document.getElementsByClassName('foodCart-foodlist-category')\r\n        this.setState({\r\n            categoryList: currentList\r\n        })\r\n        // 为界面绑定一个滚动事件\r\n    //     window.addEventListener('scroll', () => {\r\n\r\n    //         // let top = document\r\n    //         let categoryMenu = document.getElementById('categoryMenu')\r\n    //         // console.dir(window.scrollY)\r\n    //         if(window.scrollY > 60) {\r\n    //             categoryMenu.style.position = \"fixed\"\r\n    //             categoryMenu.style.top = '4rem'\r\n    //         } else {\r\n    //             categoryMenu.style.position = \"absolute\"\r\n    //             categoryMenu.style.top = '0rem'\r\n    //         }\r\n    //         let currentIdx\r\n    //         let currentList = document.getElementsByClassName('foodCart-foodlist-category')\r\n    //         for(let idx in currentList) {\r\n    //             let oneTop = currentList[idx].offsetTop\r\n    //             if(window.scrollY < oneTop) {\r\n    //                 currentIdx = idx\r\n    //                 break\r\n    //             }\r\n    //         }\r\n    //         console.log(currentIdx)\r\n    //         setTimeout(() => {\r\n    //             // console.log(currentIdx)\r\n    //             this.setState({\r\n    //                 activeCategoryIdx: currentIdx\r\n    //             })\r\n    //         },500)\r\n\r\n    //     })\r\n    }\r\n\r\n    // 将食物与食物数量列表产生映射\r\n    mapFoodToCount(food) {\r\n        let count\r\n        for(let item of this.state.foodCountMap) {\r\n            if(item.food.id === food.id) {\r\n               count = item.count\r\n            }\r\n        }\r\n        return count\r\n    }\r\n\r\n    // 清空购物车\r\n    clearFooCart = () => {\r\n        var updatedcount = produce(this.state.foodCountMap, countMap => {\r\n            for(let item of countMap) {\r\n                item.count = 0\r\n            }\r\n        })\r\n        this.setState({\r\n            cart: [],\r\n            foodCountMap: updatedcount\r\n        })\r\n    }\r\n\r\n    // 修改购物车内容\r\n    foodChange =  (food, amount) => {\r\n        // 数据更新方法\r\n        var updated  = produce(this.state.cart, cart => {\r\n            var idx = cart.findIndex(it => it.food.id === food.id)\r\n            if(idx >= 0) {\r\n                if(amount === 0) {\r\n                    cart.splice(idx,1)\r\n                } else {\r\n                    cart[idx].amount = amount\r\n                }\r\n            } else {\r\n                cart.push({\r\n                    food,\r\n                    amount,\r\n                })\r\n            }\r\n        })\r\n        var updatedcount = produce(this.state.foodCountMap, countMap => {\r\n            var index =  countMap.findIndex(it => it.food.id === food.id)\r\n            countMap[index].count = amount\r\n        })\r\n        this.setState({\r\n            cart: updated,\r\n            foodCountMap: updatedcount\r\n        })\r\n    }\r\n\r\n    placeOrder = () => {\r\n        // 订单的提交\r\n        let sum = calcTotalPrice(this.state.cart)\r\n        let params = this.props.match.params\r\n        let state = {\r\n            deskName: this.state.deskInfo.name,\r\n            customCount: params.count,\r\n            totalPrice: sum,\r\n            details: this.state.cart,\r\n            params,\r\n        }\r\n        this.props.history.push(`/r/${params.rid}/d/${params.did}/order-success`, state)\r\n    }\r\n\r\n    handleCategoryActive = (index) => {\r\n        // 改变选中的category列表\r\n        this.setState({\r\n            activeCategoryIdx: index\r\n        })\r\n        // 右侧滚动\r\n        $('html,body').animate({scrollTop: this.state.categoryList[index].offsetTop - 30}, 300)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"foodCart\">\r\n                <Header />\r\n                <StoreLocation />\r\n\r\n                <div className=\"foodCart-foodlist\">\r\n                    <div className=\"foodCart-foodlist-left\">\r\n                        <ul id=\"categoryMenu\">\r\n                            {\r\n                                this.state.foodCategoryList.map((category,idx) => {\r\n                                    return (\r\n                                        <li onClick={() => this.handleCategoryActive(idx)} className={`foodCart-categoryList ${idx === this.state.activeCategoryIdx ? 'categoryActive' : ''}`} key={idx}>\r\n                                            {category}\r\n                                        </li>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"foodCart-foodlist-right\">\r\n                        <div className=\"slideshow\">\r\n                            <Slideshow />\r\n                        </div>\r\n                        {\r\n                            this.state.foodMap.map((element,idx) => {\r\n                              return (\r\n                                  <div key={idx}>\r\n                                    <span className=\"foodCart-foodlist-category\">&nbsp;{element[0]}</span>\r\n                                    <div>{element[1].map(food => {\r\n                                            let count = this.mapFoodToCount(food)\r\n                                            return <MenuItem key={food.id} food={food} onUpdate={this.foodChange} count={count}/>\r\n                                        })}\r\n                                    </div>\r\n                                  </div>\r\n                              )\r\n                            })\r\n                        }\r\n                        {\r\n                            this.state.cart.length\r\n                            ? <div className=\"cart-addblank\"></div>\r\n                            : ''\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.cart.length\r\n                        ? <CartStatus foods={this.state.cart} clearFooCart={this.clearFooCart} onUpdate={this.foodChange} onPlaceOrder={this.placeOrder}/>\r\n                        : <></>\r\n                }\r\n            </div>\r\n         );\r\n    }\r\n}\r\n","import React, { Component, useState } from 'react';\r\nimport api from './api';\r\nimport { produce } from 'immer'\r\nimport './static/style/orderManager.scss'\r\nimport io from 'socket.io-client'\r\nimport {\r\n    Row,\r\n    Col,\r\n    Space,\r\n    Button\r\n } from \"antd\";\r\n\r\nvar orderItemStyle = {\r\n    padding: '5px'\r\n}\r\n\r\nfunction OrderItem({order, onDetele}) {\r\n    const [orderInfo, setOrderInfo] = useState(order)\r\n// 订单确认\r\n    function setComfirm() {\r\n        api.put(`/restaurant/1/order/${order.id}/status` ,{\r\n            status: 'comfirmed'\r\n        }).then(() => {\r\n            setOrderInfo({\r\n                ...orderInfo,\r\n                status: 'comfired'\r\n            })\r\n        })\r\n    }\r\n// 订单完成\r\n    function setComplete() {\r\n        api.put(`/restaurant/1/order/${order.id}/status`,{\r\n            status: 'completed'\r\n        }).then(() => {\r\n            setOrderInfo({\r\n                ...orderInfo,\r\n                status: 'completed'\r\n            })\r\n        })\r\n    }\r\n// 删除订单\r\n    function deleteOrder() {\r\n        api.delete(`/restaurant/1/order/${order.id}`).then(() => {\r\n            onDetele(order)\r\n        })\r\n    }\r\n\r\n    return(\r\n    <Col xs={{span: 24}} sm={{span:24}} md={{span: 12}} lg={{span: 7}}  className=\"food-col\">\r\n        <div style={orderItemStyle}>\r\n            <div>订单编号：<span style={{fontSize: '1.1rem', fontWeight: '600'}}>{orderInfo.deskName + order.id}</span></div>\r\n            <div>餐桌：{orderInfo.deskName}</div>\r\n            <div>人数：{orderInfo.customCount}</div>\r\n            <div className=\"order-details\">\r\n\r\n                <div>订单详情: </div>\r\n                <div>\r\n                    {\r\n                        orderInfo.details.map(item => <div key={item.food.id} className=\"order-details-item\">\r\n                            {item.food.name} x {item.amount} ：<div style={{float: 'right',marginLeft: '120px'}}>￥{item.food.price * item.amount}</div>\r\n                        </div>)\r\n                    }\r\n                </div>\r\n            </div>\r\n            <h3 style={{marginBottom: '0'}}>总价格：￥{orderInfo.totalPrice}</h3>\r\n            <h3>订单状态：{orderInfo.status}</h3>\r\n            <div>\r\n                <Space>\r\n                    <Button>打印</Button>\r\n                    <Button onClick={setComfirm}>确认</Button>\r\n                    <Button onClick={setComplete}>完成</Button>\r\n                    <Button onClick={deleteOrder}>删除</Button>\r\n                </Space>\r\n            </div>\r\n        </div>\r\n    </Col>\r\n)\r\n}\r\nclass OrderManager extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            orders: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.socket = io()\r\n        this.socket.on('new order', order => {\r\n            console.log(order)\r\n            this.setState(produce(state => {\r\n                state.orders.unshift(order)\r\n            }))\r\n        })\r\n        api.get('/restaurant/1/order').then(res => {\r\n            this.setState({\r\n                orders: res.data\r\n            })\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this.socket.close()\r\n    }\r\n\r\n    onDetele = (order) => {\r\n        var idx = this.state.orders.findIndex(it => it.id === order.id)\r\n        this.setState(produce(this.state, state => {\r\n            state.orders.splice(idx, 1)\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"order-row\">\r\n                订单详情:\r\n                <Row justify=\"space-between\">\r\n                    {  this.state.orders.length > 0\r\n                        ? this.state.orders.map(order => {\r\n                            return <OrderItem key={order.id} onDetele={this.onDetele} order={order} />\r\n                        })\r\n                        : <div>loading...</div>\r\n\r\n                    }\r\n                </Row>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n\r\nexport default OrderManager;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom'\r\n// import { useParams } from 'react-router';\r\nimport api from './api';\r\nimport './static/style/foodManager.scss'\r\nimport {\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Space\r\n} from \"antd\"\r\nconst imgStyle = {\r\n    display: 'block',\r\n    marginRight: '1rem',\r\n    float : 'left',\r\n    border : '1px solid',\r\n    width: '160px',\r\n    height: '160px'\r\n}\r\n\r\n\r\nfunction FoodItem({food, onDelete}) {\r\n    // const { rid } = useParams(rid)\r\n    // 添加食物的信息\r\n    const [foodInfo, setFoodInfo] = useState(food)\r\n    // 是否修改\r\n    const [isModify, setIsModify] = useState(false)\r\n    // 设置菜品的详细属性\r\n    const [foodProps, setFoodProps] = useState({\r\n        id: foodInfo.id,\r\n        name: foodInfo.name,\r\n        desc: foodInfo.desc,\r\n        price: foodInfo.price,\r\n        category: foodInfo.category,\r\n        status: foodInfo.status,\r\n        img: null\r\n     })\r\n\r\n    // 是否修改菜品\r\n    function getContent(isModify) {\r\n        if(isModify) {\r\n            return (\r\n            <div>\r\n                <form>\r\n                   名称： <input type=\"text\" onChange={change} defaultValue={foodInfo.name} name=\"name\" /><br />\r\n                   描述： <input type=\"text\" onChange={change} defaultValue={foodInfo.desc} name=\"desc\" /><br />\r\n                   价格： <input type=\"text\" onChange={change} defaultValue={foodInfo.price} name=\"price\" /><br />\r\n                   分类： <input type=\"text\" onChange={change} defaultValue={foodInfo.category} name=\"category\" /><br />\r\n                   图片： <input type=\"file\" onChange={imgChange} name=\"img\" /><br />\r\n                </form>\r\n            </div>\r\n            )\r\n        } else {\r\n            return (\r\n                    <div className=\"food-info-details\">\r\n                        <p>描述：{foodInfo.desc}</p>\r\n                        <p>分类：{foodInfo.category? foodInfo.category: '[暂未分类]'}</p>\r\n                        <p>价格：{foodInfo.price + '元'}</p>\r\n                    </div>\r\n            )\r\n        }\r\n    }\r\n    // 保存函数\r\n    function save() {\r\n\r\n        var fd = new FormData()\r\n\r\n        for(var key in foodProps) {\r\n            var val = foodProps[key]\r\n            fd.append(key, val)\r\n        }\r\n        console.log(fd)\r\n\r\n        api.put(`/restaurant/1/food/` + foodInfo.id, fd).then(res => {\r\n            setIsModify(false)\r\n            setFoodInfo(res.data)\r\n        })\r\n    }\r\n    // 修改函数\r\n    function change(e) {\r\n        setFoodProps({\r\n            ...foodProps,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    // 删除食物\r\n    async function deleteFood() {\r\n        await api.delete(`/restaurant/1/food/` + foodInfo.id).then(() => {\r\n            onDelete(food.id)\r\n        })\r\n    }\r\n    // 下线商品\r\n    function setOffline() {\r\n        api.put(`/restaurant/1/food/` + foodInfo.id,{\r\n            ...foodProps,\r\n            status: 'off',\r\n        }).then(res => {\r\n            setFoodInfo(res.data)\r\n        })\r\n    }\r\n    // 上线商品\r\n    function setOnline() {\r\n        api.put(`/restaurant/1/food/` + foodInfo.id,{\r\n            ...foodProps,\r\n            status: 'on',\r\n        }).then(res => {\r\n            setFoodInfo(res.data)\r\n        })\r\n    }\r\n    // 修改图片\r\n    function imgChange(e) {\r\n        console.log(e.target.files[0])\r\n        setFoodProps({\r\n            ...foodProps,\r\n            img: e.target.files[0]\r\n        })\r\n    }\r\n    return (\r\n        <Col xs={{span: 24}} sm={{span:24}} md={{span: 12}} lg={{span: 7}}  className=\"food-col\">\r\n            <img src={'/upload/'+foodInfo.img} alt={foodInfo.name} style={imgStyle}/>\r\n            <h3 className=\"food-info-title\">{foodInfo.name}</h3>\r\n            {\r\n                getContent(isModify)\r\n            }\r\n            <div>\r\n                <Space className=\"content-button\">\r\n                    {!isModify\r\n                        ?<Button onClick={() => setIsModify(true)}>修改</Button>\r\n                        :<Button onClick={save}>保存</Button>\r\n                    }\r\n                    {foodInfo.status === 'on'\r\n                        ? <Button onClick={setOffline}>下架</Button>\r\n                        : <Button onClick={setOnline}>上架</Button>\r\n                    }\r\n                    <Button onClick={deleteFood}>删除</Button>\r\n                </Space>\r\n            </div>\r\n        </Col>\r\n    )\r\n}\r\n\r\nconst FoodManger = () => {\r\n    const [foods, setFoods] = useState([])\r\n    useEffect(() => {\r\n        // 获取食物的列表\r\n        api.get('/restaurant/1/food').then(res => {\r\n            setFoods(res.data)\r\n        })\r\n    },[])\r\n\r\n    function onDelete(id) {\r\n        setFoods(foods.filter(it => it.id !==id))\r\n    }\r\n\r\n    return (\r\n        <div className=\"food-row\">\r\n            <Button type=\"primary\" style={{backgroundColor: 'rgb(253,208,0)', border: 'none', borderRadius:'5px', margin: '0.5rem'}}><Link to=\"/manager/add-food\">添加菜品</Link></Button>\r\n            <Row justify=\"space-between\">\r\n                {\r\n                    foods.map(food => {\r\n                        return <FoodItem key={food.id} food={food} onDelete={onDelete} />\r\n                    })\r\n                }\r\n            </Row>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default FoodManger;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n    Input,\r\n    Button,\r\n    List,\r\n} from 'antd'\r\nimport api from './api'\r\n\r\n\r\n\r\nconst DeskManger = () => {\r\n    // 添加输入框\r\n    const addDeskRef = useRef()\r\n    const [deskList, setDeskList] = useState([])\r\n    // 添加桌子\r\n    function addDesk(e) {\r\n        // console.log('----add desk', addDeskRef.current.state.value)\r\n        api.post('/restaurant/1/desk', {\r\n            name : addDeskRef.current.state.value,\r\n            capacity: 4\r\n        }).then(res => {\r\n            setDeskList(deskList => deskList.concat(res.data))\r\n        })\r\n    }\r\n    // 删除桌子\r\n    function deleteDesk(index) {\r\n        let did = deskList[index].id\r\n        console.log(did)\r\n        api.delete('/restaurant/1/desk/' + did).then(res => {\r\n            setDeskList(deskList => deskList.slice(0, index).concat(deskList.slice(index + 1)))\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        api.get('/restaurant/1/desk').then(res => {\r\n            console.log(res.data)\r\n            setDeskList(res.data)\r\n        })\r\n    },[])\r\n    return (\r\n        <div style={{margin: '0 1rem'}}>\r\n            <Input\r\n                ref={addDeskRef}\r\n                style={{width: '50vw', margin: '1rem 0'}}\r\n             /><Button onClick={addDesk} style={{backgroundColor: 'rgb(253,208,0)'}}>添加餐桌</Button>\r\n            <List\r\n                style={{border: '1px solid rgb(253,208,0)'}}\r\n                header={<div style={{color: 'rgb(253,208,0)'}}>桌子列表</div>}\r\n                bordered\r\n                dataSource={deskList}\r\n                renderItem={(item, index) => (\r\n                    <List.Item key={item.id}>\r\n                        桌号：{item.name} <span>可容纳：{item.capacity}人</span>\r\n                        <Button onClick={() => deleteDesk(index)} style={{float: 'right', display: 'inline-block', marginTop: '-5px'}} type=\"primary\" >删除桌面</Button>\r\n                    </List.Item>\r\n                )}></List>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default DeskManger;\r\n","import React, { useState } from 'react';\r\nimport api from './api';\r\nimport history from './history'\r\nimport {\r\n    Input,\r\n} from 'antd'\r\nimport './static/style/addFood.scss'\r\n\r\n\r\nconst AddFood = () => {\r\n    var [foodInfo, setFoodInfo] = useState({\r\n        name: '',\r\n        desc: '',\r\n        price: 0,\r\n        category: '',\r\n        status: 'on',\r\n        img: null,\r\n    })\r\n\r\n    function change(e) {\r\n        setFoodInfo({\r\n            ...foodInfo,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    // 提交\r\n    function sumbit(e) {\r\n        e.preventDefault()\r\n        let fd = new FormData()\r\n        for(let key in foodInfo) {\r\n            let val = foodInfo[key]\r\n            fd.append(key, val)\r\n        }\r\n        api.post('/restaurant/1/food', fd).then(res => {\r\n            history.goBack()\r\n        })\r\n    }\r\n    // 添加图片\r\n    function imgChange(e) {\r\n\r\n        setFoodInfo({\r\n            ...foodInfo,\r\n            img: e.target.files[0]\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n    <div className=\"add-food\">\r\n        <h2>添加菜品</h2>\r\n        <form onSubmit={sumbit}>\r\n           名称： <Input type=\"text\" onChange={change} defaultValue={foodInfo.name} name=\"name\" /><br />\r\n           描述： <Input type=\"text\" onChange={change} defaultValue={foodInfo.desc} name=\"desc\" /><br />\r\n           价格： <Input addonAfter=\"元\" type=\"text\" onChange={change} defaultValue={foodInfo.price} name=\"price\" /><br />\r\n           分类： <Input type=\"text\" onChange={change} defaultValue={foodInfo.category} name=\"category\" /><br />\r\n           图片： <Input type=\"file\" onChange={imgChange} name=\"img\" /><br />\r\n           <button>提交</button>\r\n        </form>\r\n    </div>\r\n     );\r\n}\r\n\r\nexport default AddFood;\r\n","import React, {Suspense} from 'react';\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport createFetcher from '../create-fetcher'\r\nimport api from '../api'\r\nimport history from '../history'\r\nimport {\r\n    Button,\r\n    Menu,\r\n} from 'antd'\r\n\r\nimport '../static/style/managerHeader.scss'\r\n\r\n\r\nconst userInfoFetcher = createFetcher(async () => {\r\n    return api.get('/userInfo').catch(() => {\r\n        history.push('/')\r\n    })\r\n})\r\n\r\nfunction ResaurantInfo() {\r\n    const history = useHistory()\r\n    function backHome() {\r\n        history.push('/manager')\r\n    }\r\n    let info = userInfoFetcher.read().data\r\n    return (\r\n        <div onClick={ backHome }>\r\n            {info.title}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ManagerHeader = (props) => {\r\n\r\n    function logout() {\r\n        api.get('/logout').then(res => {\r\n            history.push('/login')\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"manager-header\">\r\n            <div className=\"logo\" >\r\n                <Suspense fallback={<div>Loading...</div>}>\r\n                    <ResaurantInfo />\r\n                </Suspense>\r\n            </div>\r\n            <Menu className=\"header-menu\" style={{backgroundColor: 'rgb(253, 208, 0)',marginLeft: '0'}} mode=\"horizontal\" defaultSelectedKeys={['1']}>\r\n                <Menu.Item key=\"1\"><Link to=\"/manager/food\">菜品管理</Link></Menu.Item>\r\n                <Menu.Item key=\"2\"><Link to=\"/manager/order\">订单管理</Link></Menu.Item>\r\n                <Menu.Item key=\"3\"><Link to=\"/manager/desk\">餐桌管理</Link></Menu.Item>\r\n            </Menu>\r\n            <Button style={{margin: '.5rem .5rem .5rem 0', color: '#fff', backgroundColor: 'yellow'}} onClick={logout} >登出</Button>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default ManagerHeader;\r\n","\r\n\r\nexport default function createFetcher(f) {\r\n    var cache ={}\r\n    return {\r\n        read(...args) {\r\n            var key = args.join('|')\r\n            if (key in cache) {\r\n                return cache[key]\r\n\r\n            } else {\r\n                throw f(...args).then(val => {\r\n                    cache[key] = val\r\n                }).catch(reason => {\r\n                    cache[key] = reason\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom'\r\nimport OrderManager from './OrderManager'\r\nimport FoodManager from './FoodManager'\r\nimport DeskManager from './DeskManager'\r\nimport AddFood from './AddFood'\r\nimport ManagerHeader from  './components/ManagerHeader'\r\n\r\n\r\nexport default function ResaurantManager () {\r\n    return (\r\n        <div>\r\n            <ManagerHeader />\r\n            <main>\r\n                <Switch>\r\n                    <Route path=\"/manager\" exact>\r\n                        <Redirect to=\"/manager/food\" />\r\n                    </Route>\r\n                    <Route path=\"/manager/order\" >\r\n                        <OrderManager />\r\n                    </Route>\r\n                    <Route path=\"/manager/food\" >\r\n                        <FoodManager />\r\n                    </Route>\r\n                    <Route path=\"/manager/desk\" >\r\n                        <DeskManager />\r\n                    </Route>\r\n                    <Route path=\"/manager/add-food\" >\r\n                        <AddFood />\r\n                    </Route>\r\n                </Switch>\r\n\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState }from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport './static/style/login.scss'\r\nimport {\r\n    Card,\r\n    Input,\r\n    Button,\r\n    Spin,\r\n    Space,\r\n    message\r\n} from 'antd'\r\nimport {\r\n    TeamOutlined,\r\n    LockOutlined,\r\n    VerifiedOutlined,\r\n  } from '@ant-design/icons';\r\nimport api from './api'\r\n\r\nconst Login = () => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [name, setName] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [captcha, setCaptchaCode] = useState('')\r\n    const history = useHistory()\r\n\r\n    function login(e) {\r\n        e.preventDefault()\r\n        setIsLoading(true)\r\n        if(!name) {\r\n            message.error('用户名不能为空')\r\n            setIsLoading(false)\r\n            return false\r\n        } else if(!password) {\r\n            message.error('密码不能为空')\r\n            setIsLoading(false)\r\n            return false\r\n        } else if(!captcha) {\r\n            message.error('验证码不能为空')\r\n        }\r\n\r\n        api.post('/login',{\r\n            name,\r\n            password,\r\n            captcha\r\n        }).then(res => {\r\n            setTimeout(() => {\r\n                setIsLoading(false)\r\n                history.push('/manager')\r\n            },1000)\r\n        }\r\n        ).catch(err => {\r\n            setIsLoading(false)\r\n            message.error(err.response.data.msg)\r\n            // console.dir(err)\r\n        })\r\n\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <Spin tip=\"Loading...\" spinning={isLoading}>\r\n                <div className=\"login-card\">\r\n                    <Card title=\"御膳房餐厅登录\" bordered={true} >\r\n                        <Space\r\n                            direction=\"vertical\"\r\n                        >\r\n                            用户名：<Input\r\n                                id=\"name\"\r\n                                size=\"large\"\r\n                                placeholder=\"Enter your name\"\r\n                                prefix={<TeamOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                                onChange={(e) => {setName(e.target.value)}}\r\n                            />\r\n                            密码: <Input\r\n                                id=\"password\"\r\n                                size=\"large\"\r\n                                placeholder=\"Enter your password\"\r\n                                prefix={<LockOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                                onChange={(e) => {setPassword(e.target.value)}}\r\n                            />\r\n                            验证码：<Input\r\n                                id=\"captcha-code\"\r\n                                size=\"large\"\r\n                                placeholder=\"please enter captcha-code\"\r\n                                prefix={<VerifiedOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                                onChange={(e) => setCaptchaCode(e.target.value)}\r\n                                addonAfter={<img height={38.4} src=\"/api/captcha\" alt=\"验证码\" />}\r\n                            />\r\n                            登录：<Button style={{backgroundColor: 'rgb(253,208,0)', border: 'none'}} type=\"primary\" size=\"large\" onClick={login} block >Login</Button>\r\n                        </Space>\r\n                        <div className=\"login-ForR\" >\r\n                            <div><Link to=\"/register\">前往注册</Link></div>\r\n                            <div><Link to=\"/forget\">忘记密码</Link></div>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </Spin>\r\n\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Login;\r\n\r\n","import React, { useState } from 'react';\r\nimport 'antd/dist/antd.css'\r\nimport Header from './components/Header'\r\nimport StoreLocation  from './components/StoreLocation'\r\nimport './static/style/orderSuccess.scss'\r\nimport './static/style/font.css'\r\nimport api from './api'\r\nimport { useHistory, useParams } from 'react-router';\r\n\r\nfunction OrderItem({item}) {\r\n    return (\r\n        <div className=\"orderItem\">\r\n            <img src={'/upload/' + item.food.img} alt={item.food.name} />\r\n            <div className=\"orderItem-name\">{item.food.name}</div>\r\n            <div style={{height:'1.2rem',overflow: 'hidden',width: '14rem'}}>{item.food.desc}</div>\r\n            <div>x{item.amount}</div>\r\n            <div className=\"orderItem-price\">￥{item.food.price}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst OrderSuccess = (props) => {\r\n    // 获取rid和did\r\n    const {rid, did} = useParams()\r\n    // 设置历史记录\r\n    const history = useHistory()\r\n    // 设置就餐方式\r\n    const [takeout, setTakeout] = useState(false)\r\n    // 就餐时间\r\n    const eatTime = '立即就餐'\r\n    // 设置订单信息\r\n    const orderInfo = props.location.state\r\n    // 设置用户电话\r\n    const [orderPhone, setOrderPhone] = useState('xxx-xxxx')\r\n\r\n    // 订单上传\r\n    function orderUpload() {\r\n        // console.log(orderInfo)\r\n        api.post(`/restaurant/${rid}/desk/${did}/order`,orderInfo).then(res => {\r\n            history.push(`/r/${rid}/d/${did}/order-finish`, res.data)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"orderSuccess\">\r\n            <Header />\r\n            <StoreLocation />\r\n            <div className=\"orderInfo-body\">\r\n                <div className=\"orderInfo-others\">\r\n                    <div className=\"other-item\">\r\n                        <div className=\"other-item-left\">享用方式</div>\r\n                        <div className=\"other-item-right\">\r\n                            <span onClick={() => setTakeout(false)} className={`takeout-btn ${takeout ? '': 'btn-active'}`}>门店就餐</span>\r\n                            <span onClick={() => setTakeout(true)} className={`takeout-btn ${takeout ? 'btn-active': ''}`}>打包外卖</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"other-item\">\r\n                        <div className=\"other-item-left\">预留电话</div>\r\n                        <div className=\"other-item-right\">\r\n                            <span >{orderPhone}</span>\r\n                            <span onClick={() => setOrderPhone('158-07142537')} className=\"reserved-phone\">自动填写</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"other-item\">\r\n                        <div className=\"other-item-left\">就餐时间</div>\r\n                        <div className=\"other-item-right\">\r\n                            <span className=\"select-eat-time\">{eatTime}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"orderInfo-content\">\r\n                    <div className=\"orderInfo-list\">\r\n                        {\r\n                            orderInfo.details.map((item, idx) => {\r\n                                return (\r\n                                    <OrderItem item={item} key={item.food.id} />\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className=\"coupons\">\r\n                        <div className=\"coupons-left\"><i style={{fontSize: '1.1rem',color: 'rgb(253,208,0)'}} className=\"iconfont iconquan\"></i> 可用优惠券</div>\r\n                        <div className=\"coupons-right\">暂无可用优惠券</div>\r\n                    </div>\r\n                    <div className=\"total-price\">\r\n                        <div className=\"total-sum\">合计 ￥<strong>{orderInfo.totalPrice}</strong></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"order-submit\">\r\n                <div className=\"order-submit-left\">合计: <strong>{orderInfo.totalPrice}</strong></div>\r\n                <div className=\"order-submit-right\">\r\n                    <div className=\"order-sumbit-button\" onClick={orderUpload}>提交订单</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default OrderSuccess;\r\n","\r\nimport React, { useRef, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport {\r\n    Input,\r\n    Button,\r\n} from 'antd'\r\nimport api from './api'\r\n\r\nconst forgetDiv = {\r\n    textAlign: 'center',\r\n    width: '80vw',\r\n    margin: '2rem auto',\r\n    display: 'flex',\r\n}\r\n\r\nvar timeId\r\nconst Forget = () => {\r\n    const history = useHistory()\r\n    // 设置一个倒计时\r\n    const [countTime, setCountTime] = useState(5)\r\n    // 检查是否发送邮箱\r\n    const [hassend, setHassend] = useState(false)\r\n    // 设置一个定时器\r\n    // 如果倒计时清零，则返回前页\r\n    if(countTime === 0) {\r\n        history.goBack()\r\n        clearInterval(timeId)\r\n    }\r\n    const emailRef = useRef()\r\n    const forget = async (e) => {\r\n        e.preventDefault()\r\n        let email = emailRef.current.value.trim()\r\n        if(!email) {\r\n            alert('请输入邮箱')\r\n            return false\r\n        }\r\n        try {\r\n            let res = await api.post('/forgot',{\r\n                email\r\n            })\r\n            if(res) {\r\n                setHassend(true)\r\n                timeId = setInterval(() => {\r\n                    setCountTime(countTime => countTime - 1)\r\n                }, 1000)\r\n            }\r\n        } catch(e) {\r\n            alert(e.response.data.msg)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            { hassend\r\n              ? <div style={forgetDiv}>\r\n                  邮件已发送{countTime}秒后返回\r\n              </div>\r\n              :<form style={forgetDiv} onSubmit={forget}>\r\n                  <Input ref={emailRef} type=\"text\" placeholder=\"xxx@xx.com\" />\r\n                  <Button type=\"primary\">邮箱找回</Button>\r\n               </form>\r\n            }\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Forget;\r\n","import React from 'react';\r\nimport Swiper2 from './components/Swiper2'\r\nimport './static/style/orderFinish.scss'\r\n\r\nconst OrderFinish = (props) => {\r\n    const orderNumber = props.location.state.deskName + props.location.state.id\r\n    return (\r\n        <div className=\"order-finish\">\r\n            <div className=\"order-finish-header\">\r\n                已完成下单\r\n            </div>\r\n            <div className=\"order-finish-content\">\r\n                <div className=\"order-tip\">您的取餐号为</div>\r\n                <div className=\"order-number\">{orderNumber}</div>\r\n            </div>\r\n            <div className=\"order-finish-footer\">\r\n                请出示订单号领餐\r\n            </div>\r\n            <div className=\"order-finish-swiper\">\r\n                <Swiper2 />\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default OrderFinish;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n    Card,\r\n    Input,\r\n    Button,\r\n    Spin,\r\n    Space,\r\n    message\r\n} from 'antd'\r\nimport {\r\n    TeamOutlined,\r\n    LockOutlined,\r\n    VerifiedOutlined,\r\n  } from '@ant-design/icons';\r\nimport api from './api';\r\n\r\nconst Register = () => {\r\n    const history = useHistory()\r\n    // 是否加载中\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [name, setName] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [rePassword, setRePassword] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [captcha, setCaptchaCode] = useState('')\r\n    const [title, setTitle] = useState('')\r\n\r\n    // 注册按钮\r\n    function register(e) {\r\n        e.preventDefault()\r\n\r\n        if(!name.trim()) {\r\n            message.error('用户名不能为空')\r\n            return false\r\n        } else if(!password.trim()) {\r\n            message.error('密码不能为空')\r\n            return false\r\n        } else if(!rePassword.trim()) {\r\n            message.error('请重复密码')\r\n            return false\r\n        } else if(!email.trim()) {\r\n            message.error('邮箱不能为空')\r\n            return false\r\n        } else if(!captcha.trim()) {\r\n            message.error('验证码不能为空')\r\n            return false\r\n        } else if (!title.trim()) {\r\n            message.error('标题不能为空')\r\n        }\r\n\r\n        if(password !== rePassword) {\r\n            message.error('两次密码输入不一致')\r\n            return\r\n        }\r\n        api.post('/register', {\r\n                name,\r\n                password,\r\n                title,\r\n                email,\r\n                captcha\r\n            }).then(res => {\r\n                alert('注册成功')\r\n                setTimeout(() => {\r\n                    setIsLoading(false)\r\n                    history.push('/login')\r\n                },500)\r\n            }).catch(e => {\r\n                console.dir(e)\r\n                message.error(e.response.data.msg)\r\n            })\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n        <Spin tip=\"Loading...\" spinning={isLoading}>\r\n            <div className=\"login-card\">\r\n                <Card title=\"注册餐厅\" bordered={true} >\r\n                    <Space\r\n                        direction=\"vertical\"\r\n                    >\r\n                        <Input\r\n                            id=\"name\"\r\n                            size=\"large\"\r\n                            placeholder=\"用户名\"\r\n                            prefix={<TeamOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                            onChange={(e) => {setName(e.target.value)}}\r\n                        />\r\n                        <Input\r\n                            id=\"password\"\r\n                            size=\"large\"\r\n                            placeholder=\"密码\"\r\n                            prefix={<LockOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                            onChange={(e) => {setPassword(e.target.value)}}\r\n                        />\r\n                        <Input\r\n                            id=\"rePassword\"\r\n                            size=\"large\"\r\n                            placeholder=\"重复密码\"\r\n                            prefix={<LockOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                            onChange={(e) => {setRePassword(e.target.value)}}\r\n                        />\r\n                        <Input\r\n                            id=\"email\"\r\n                            size=\"large\"\r\n                            placeholder=\"邮箱\"\r\n                            prefix={<LockOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                            onChange={(e) => {setEmail(e.target.value)}}\r\n                        />\r\n                        <Input\r\n                            id=\"email\"\r\n                            size=\"large\"\r\n                            placeholder=\"餐厅名称\"\r\n                            prefix={<LockOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                            onChange={(e) => {setTitle(e.target.value)}}\r\n                        />\r\n                        <Input\r\n                            id=\"captcha-code\"\r\n                            size=\"large\"\r\n                            placeholder=\"验证码\"\r\n                            prefix={<VerifiedOutlined style={{color: 'rgba(0,0,0,.25)'}} />}\r\n                            onChange={(e) => setCaptchaCode(e.target.value)}\r\n                            addonAfter={<img height={38.4} src=\"/api/captcha\" alt=\"验证码\" />}\r\n                        />\r\n                        <Button style={{backgroundColor: 'rgb(253,208,0)', border: 'none'}} type=\"primary\" size=\"large\" onClick={register} block >注册</Button>\r\n                    </Space>\r\n                    <div className=\"login-ForR\" >\r\n                        <div><Link to=\"/login\">返回登录</Link></div>\r\n                        <div><Link to=\"/forget\">忘记密码</Link></div>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        </Spin>\r\n\r\n    </div>\r\n     );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useRef } from 'react';\r\nimport { useParams } from 'react-router';\r\n\r\n\r\nconst Changep = () => {\r\n    const {id} = useParams()\r\n    const newpRef = useRef()\r\n    const reNewpRef = useRef()\r\n\r\n    const changep = (e) => {\r\n        e.preventDefault()\r\n        let password = newpRef.current.value.trim()\r\n        let rePassword = reNewpRef.current.value.trim()\r\n        if(!password) {\r\n            alert('请输入新密码')\r\n            return false\r\n        } else if(!rePassword) {\r\n            alert('请输入确认密码')\r\n            return false\r\n        }\r\n        if(password !== rePassword) {\r\n            alert('两次输入的密码不一致')\r\n            return false\r\n        }\r\n        console.log(id)\r\n        //api.post(`/change-password/:token`)\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={changep}>\r\n                  新密码：<input ref={newpRef} type=\"text\" />\r\n                  确认密码：<input ref={reNewpRef} type=\"text\" />\r\n                  <button>邮箱找回</button>\r\n               </form>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Changep;\r\n","import React from 'react';\nimport { Router, Redirect, Route, Switch } from 'react-router-dom'\nimport LandingPage from './LandingPage'\nimport FoodCart from './FoodCart'\nimport RestaurantManager from './RestaurantManager'\nimport Login from './Login'\n// import HomePage from './HomePage'\nimport OrderSuccess from './OrderSuccess'\nimport OrderFinish from './OrderFinish'\nimport Register from './Register'\nimport Forget from './Forget'\nimport Changep from './Changep'\nimport history from './history'\nimport './static/style/body.scss'\n\nfunction App() {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Redirect to=\"/landing/r/1/d/1\" />\n        </Route>\n        <Route path=\"/landing/r/:rid/d/:did\" >\n          <LandingPage />\n        </Route>\n        <Route path=\"/r/:rid/d/:did/c/:count\"  component={FoodCart} />\n        <Route path=\"/r/:rid/d/:did/order-success\" component={OrderSuccess} />\n        <Route path=\"/r/:rid/d/:did/order-finish\" component={OrderFinish} />\n        <Route path=\"/manager\" >\n          <RestaurantManager />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/forget\">\n          <Forget />\n        </Route>\n        <Route path=\"/changep/:id\">\n          <Changep />\n        </Route>\n      </Switch>\n    </Router>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport api from './api'\nimport axios from 'axios'\nimport './static/style/body.scss'\n\nwindow.api = api\nwindow.axios = axios\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}